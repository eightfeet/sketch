(this.webpackJsonpsketck=this.webpackJsonpsketck||[]).push([[8],{108:function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",(function(){return r}))},109:function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}n.d(e,"a",(function(){return o}))},110:function(t,e,n){"use strict";function r(t){return r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},r(t)}n.d(e,"a",(function(){return r}))},111:function(t,e,n){"use strict";function r(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}n.d(e,"a",(function(){return r}))},118:function(t,e,n){"use strict";function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}n.d(e,"a",(function(){return r}))},123:function(t,e,n){"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}n.d(e,"a",(function(){return i}));var o=n(118);function i(t,e){if(e&&("object"===r(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Object(o.a)(t)}},124:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(44);function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Object(r.a)(t,e)}},125:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n(110),o=n(111),i=n(123);function c(t){var e=Object(o.a)();return function(){var n,o=Object(r.a)(t);if(e){var c=Object(r.a)(this).constructor;n=Reflect.construct(o,arguments,c)}else n=o.apply(this,arguments);return Object(i.a)(this,n)}}},132:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n(110),o=n(44);var i=n(111);function c(t,e,n){return c=Object(i.a)()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&Object(o.a)(i,n.prototype),i},c.apply(null,arguments)}function u(t){var e="function"===typeof Map?new Map:void 0;return u=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!==typeof t)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof e){if(e.has(t))return e.get(t);e.set(t,i)}function i(){return c(t,arguments,Object(r.a)(this).constructor)}return i.prototype=Object.create(t.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),Object(o.a)(i,t)},u(t)}},147:function(t,e,n){t.exports={root:"List_root__89EXI",navspace:"List_navspace__1Ujji",nodata:"List_nodata__1DNNW"}},148:function(t,e,n){"use strict";var r=Object.prototype.hasOwnProperty,o=Object.prototype.toString,i=Object.defineProperty,c=Object.getOwnPropertyDescriptor,u=function(t){return"function"===typeof Array.isArray?Array.isArray(t):"[object Array]"===o.call(t)},a=function(t){if(!t||"[object Object]"!==o.call(t))return!1;var e,n=r.call(t,"constructor"),i=t.constructor&&t.constructor.prototype&&r.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!i)return!1;for(e in t);return"undefined"===typeof e||r.call(t,e)},s=function(t,e){i&&"__proto__"===e.name?i(t,e.name,{enumerable:!0,configurable:!0,value:e.newValue,writable:!0}):t[e.name]=e.newValue},l=function(t,e){if("__proto__"===e){if(!r.call(t,e))return;if(c)return c(t,e).value}return t[e]};t.exports=function t(){var e,n,r,o,i,c,f=arguments[0],d=1,p=arguments.length,h=!1;for("boolean"===typeof f&&(h=f,f=arguments[1]||{},d=2),(null==f||"object"!==typeof f&&"function"!==typeof f)&&(f={});d<p;++d)if(null!=(e=arguments[d]))for(n in e)r=l(f,n),f!==(o=l(e,n))&&(h&&o&&(a(o)||(i=u(o)))?(i?(i=!1,c=r&&u(r)?r:[]):c=r&&a(r)?r:{},s(f,{name:n,newValue:t(h,c,o)})):"undefined"!==typeof o&&s(f,{name:n,newValue:o}));return f}},156:function(t,e,n){"use strict";n.r(e);var r=n(18),o=n(120),i=n(0),c=n(3),u=n(135),a=n(104),s=n(121),l=n(6),f=function(){return Object(l.jsx)("svg",{className:"icon",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",width:200,height:200,children:Object(l.jsx)("path",{d:"M403.2 156.16a108.8 108.8 0 1 0 217.6 0 108.8 108.8 0 1 0-217.6 0ZM765.44 551.68l-102.4-177.92c-3.84-6.4-8.96-12.8-14.08-16.64-30.72-33.28-80.64-55.04-136.96-55.04s-106.24 21.76-136.96 55.04c-5.12 5.12-10.24 10.24-14.08 16.64l-102.4 177.92c-17.92 30.72-7.68 70.4 23.04 87.04s70.4 7.68 87.04-23.04l23.04-40.96V921.6c0 29.44 24.32 55.04 55.04 55.04s55.04-24.32 55.04-55.04V743.68h20.48V921.6c0 29.44 24.32 55.04 55.04 55.04s55.04-24.32 55.04-55.04V574.72l23.04 40.96c17.92 30.72 56.32 40.96 87.04 23.04s40.96-56.32 23.04-87.04z"})})},d=n(139),p=n(140),h=n(117),b=n(147),y=n.n(b),j=n(38),_=n(45),w=n(136),P=n(137),v=n(108),O=n(109),m=n(148),T=n.n(m);var A=function(t){if(!Array.isArray(t))throw new TypeError("Middlewares must be an array!");if(t.some((function(t){return"function"!==typeof t})))throw new TypeError("Middleware must be a functions!");return function(e,n){var r=-1;return function o(i){if(i<=r)return Promise.reject(new Error("next() called multiple times"));r=i;var c=t[i];if(i===t.length&&(c=n),!c)return Promise.resolve();try{return Promise.resolve(c(e,o.bind(null,i+1)))}catch(u){return Promise.reject(u)}}(0)}},g=n(124),E=n(125),C=n(132),S=["POST","PUT","PATCH"];var R=function(t){Object(g.a)(n,t);var e=Object(E.a)(n);function n(){return Object(v.a)(this,n),e.apply(this,arguments)}return Object(O.a)(n)}(Object(C.a)(Error)),k=function(){function t(e,n){Object(v.a)(this,t),this.middlewares=void 0,this.options=void 0,this.middlewares=n.slice().reverse(),this.options=e}return Object(O.a)(t,[{key:"use",value:function(t){if("function"!==typeof t)throw new TypeError("Middleware must be a function!");this.middlewares.unshift(t)}},{key:"get",value:function(t,e){return this.createFetch(t,"GET",null,e)}},{key:"post",value:function(t,e,n){return this.createFetch(t,"POST",e,n)}},{key:"put",value:function(t,e,n){return this.createFetch(t,"PUT",e,n)}},{key:"patch",value:function(t,e,n){return this.createFetch(t,"PATCH",e,n)}},{key:"delete",value:function(t,e){return this.createFetch(t,"DELETE",null,e)}},{key:"createContext",value:function(e,n,r,o){return T()(!0,{},t.defaults,this.options,o,{url:e,method:n,body:r})}},{key:"createFetch",value:function(t,e,n,r){var o=this.createContext(t,e,n,r);return A(this.middlewares)(o,this.doRequest)}},{key:"doRequest",value:function(e){var n=e.url,r=function(t,e){var n={};return e.forEach((function(e){void 0!==t[e]&&(n[e]=t[e])})),n}(e,t.props);return fetch(n,r)}}]),t}();k.props=["method","headers","body","credentials","mode"],k.defaults={};var x=k,L=n(32),M=function(t,e){var n;return t.baseUrl&&(n=t.url,!/^[a-z][a-z0-9+.-]*:/.test(n))&&(t.url=t.baseUrl+t.url),e()},H=function(t,e){if(t.params){var n=Object(L.stringify)(t.params),r=t.url.indexOf("?")>-1?"&":"?";n&&(t.url=t.url+r+n)}return e()},U=function(t,e){if(n=t.method,S.some((function(t){return t===n})))switch(t.headers=t.headers||{},t.type){case"form":t.headers["Content-Type"]="application/x-www-form-urlencoded;charset=utf-8",t.body=Object(L.stringify)(t.body);break;case"json":t.headers["Content-Type"]="application/json;charset=utf-8",t.body=JSON.stringify(t.body)}var n;return e()},N=function(t,e){return e().then((function(t){return t.status>=200&&t.status<=299?t:Promise.reject(t)}))},D=function(t,e){return!1===t.json?e():e().then((function(t){return t.json()}))},F=function(t,e){var n,r=t.timeout;return r&&r>0&&r<1/0?(t.signal||"function"!==typeof AbortController||(n=new AbortController,t.signal=n.signal),Promise.race([e(),new Promise((function(t,e){setTimeout((function(){e(new R),n&&n.abort()}),r)}))])):e()},K=function(t,e){if(!1!==t.authToken){var n,r=null!==(n=t.authToken)&&void 0!==n?n:sessionStorage.getItem("authToken");r&&(t.headers=t.headers||{},t.headers.Authorization="Bearer ".concat(r))}return e()},V=function(t,e){return e().catch((function(e){return t.errorHander?e.json().then((function(t){return Promise.reject(t)})):Promise.reject(e)}))},W=(new x({baseUrl:Object({NODE_ENV:"production",PUBLIC_URL:"https://www.eightfeet.cn/sketch",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_NAME:"\u9875\u9762\u540d\u79f0",REACT_APP_SKETCH_URL:".",REACT_APP_MPATH_M1:"http://www.eightfeet.cn/md1/assets/",REACT_APP_MPATH_M2:"https://www.eightfeet.cn/md2/",REACT_APP_MPATH_M3:"https://www.eightfeet.cn/md3/"}).REACT_APP_BASE_URL,type:"json"},[F,N,V,D,function(t,e){return t.httpResult?e().then((function(t){return 1===t.status?t.data:Promise.reject(t)})):e()},M,K,H,U]),new x({baseUrl:Object({NODE_ENV:"production",PUBLIC_URL:"https://www.eightfeet.cn/sketch",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_NAME:"\u9875\u9762\u540d\u79f0",REACT_APP_SKETCH_URL:".",REACT_APP_MPATH_M1:"http://www.eightfeet.cn/md1/assets/",REACT_APP_MPATH_M2:"https://www.eightfeet.cn/md2/",REACT_APP_MPATH_M3:"https://www.eightfeet.cn/md3/"}).REACT_APP_SCRM_URL,mode:"cors",type:"json",errorHander:!0,authToken:!1},[F,N,V,D,M,K,H,U]),new x({baseUrl:Object({NODE_ENV:"production",PUBLIC_URL:"https://www.eightfeet.cn/sketch",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_NAME:"\u9875\u9762\u540d\u79f0",REACT_APP_SKETCH_URL:".",REACT_APP_MPATH_M1:"http://www.eightfeet.cn/md1/assets/",REACT_APP_MPATH_M2:"https://www.eightfeet.cn/md2/",REACT_APP_MPATH_M3:"https://www.eightfeet.cn/md3/"}).REACT_APP_SAAS_URL,mode:"cors",type:"json",errorHander:!0},[F,N,V,D,M,K,H,U]),new x({baseUrl:".",mode:"cors",type:"json",errorHander:!0},[F,N,V,D,M,K,H,U])),B=n(14);var I=.98*window.innerWidth,z=function(t){Object(o.a)(t);var e=Object(_.c)((function(t){return t})).dynamics,n=Object(i.useState)(!1),b=Object(r.a)(n,2),v=b[0],O=b[1];Object(i.useEffect)((function(){e.pictureList.length?O(!0):O(!1)}),[e.pictureList.length]);var m=Object(_.b)().dynamics,T=m.onTogglePictureList,A=m.setPictureList,g=m.initPictureList,E=Object(j.useInfiniteQuery)(["models",e.modelList.length],(function(t){var e=t.pageParam;return function(t){var e,n,r=((null===(e=B.c.getState().dynamics)||void 0===e||null===(n=e.modelList)||void 0===n?void 0:n[t])||{}).mdId;if(!r)return Promise.reject("\u6ca1\u6709\u66f4\u591a\u4e86");var o=null===r||void 0===r?void 0:r.replace("md","");return W.get("/models/models".concat(o,".json"))}(void 0===e?0:e)}),{getNextPageParam:function(t,n){return e.modelList.length>n.length&&n.length}}),C=E.data,S=E.hasNextPage,R=E.fetchNextPage,k=null===C||void 0===C?void 0:C.pages.flat(),x=Object(c.g)(),L=Object(i.useCallback)((function(t){T(t)}),[T]),M=Object(i.useCallback)((function(){e.pictureList.length>0?(g(),O(!1)):k&&(A(k),O(!0))}),[e.pictureList.length,g,k,A]);return Object(l.jsxs)("div",{className:y.a.root,children:[Object(l.jsx)(d.a,{left:Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(a.a,{type:"dark",tip:e.pictureList.length?e.pictureList.length:void 0,onClick:function(){return x(-1)},children:Object(l.jsx)(s.a,{})}),"\xa0",v?Object(l.jsx)(a.a,{type:"light",onClick:M,children:Object(l.jsx)(P.a,{})}):null,v?null:Object(l.jsx)(a.a,{type:"light",onClick:M,children:Object(l.jsx)(w.a,{})})]}),right:Object(l.jsx)(a.a,{type:"dark",tip:e.modelList.length?e.modelList.length:void 0,onClick:function(){return x("/contents")},children:Object(l.jsx)(f,{})}),children:"\u9009\u62e9\u56fe\u7247"}),Object(l.jsxs)(u.a,{onPullUp:function(){return R()},disablePullDown:!0,disablePullUp:!S,children:[Object(l.jsx)(h.a,{className:y.a.navspace}),Object(l.jsx)(p.a,{column:8,width:I,onClickSelect:L,selectedData:e.pictureList,data:k}),S?null:Object(l.jsx)("div",{className:y.a.nodata,children:"\u6ca1\u6709\u66f4\u591a\u4e86"})]})]})};e.default=z}}]);